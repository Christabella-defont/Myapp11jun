these changes are from ted
